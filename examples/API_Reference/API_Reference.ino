#include <Arduino.h>\n#include \"DMR828S.h\"\n\n// DMR828S instance\nDMR828S dmr(Serial2);\n\nvoid setup() {\n    Serial.begin(115200);\n    Serial.println(\"DMR828S API Reference Example\");\n    \n    // Initialize DMR\n    Serial2.begin(57600, SERIAL_8N1, 16, 17);\n    dmr.begin(57600);\n    dmr.enableDebug(true);\n    \n    delay(2000); // Wait for module\n    \n    // ðŸ”µ 1. CORE RADIO OPERATION\n    Serial.println(\"\\nðŸ”µ CORE RADIO OPERATION\");\n    \n    // Set channel (1-16)\n    if (dmr.setChannel(1)) {\n        Serial.println(\"âœ… Channel set to 1\");\n    }\n    \n    // Set volume (1-9)\n    if (dmr.setVolume(5)) {\n        Serial.println(\"âœ… Volume set to 5\");\n    }\n    \n    // Check module status\n    DMRModuleStatus status = dmr.getModuleStatus();\n    Serial.print(\"ðŸ“Š Module Status: \");\n    switch(status) {\n        case STATUS_RECEIVING: Serial.println(\"Receiving\"); break;\n        case STATUS_TRANSMITTING: Serial.println(\"Transmitting\"); break;\n        case STATUS_STANDBY: Serial.println(\"Standby\"); break;\n    }\n    \n    // Get RSSI\n    uint8_t rssi = dmr.getRSSI();\n    Serial.print(\"ðŸ“¶ RSSI: \"); Serial.println(rssi);\n    \n    // ðŸŸ¢ 2. VOICE CALLING\n    Serial.println(\"\\nðŸŸ¢ VOICE CALLING\");\n    \n    // Note: Uncomment to test calling\n    // dmr.startCall(CALL_PRIVATE, 0x000002);  // Call ID 2\n    // delay(5000);\n    // dmr.stopCall();\n    \n    // ðŸŸ£ 3. SMS MESSAGING\n    Serial.println(\"\\nðŸŸ£ SMS MESSAGING\");\n    \n    // Send SMS (uncomment to test)\n    // dmr.sendSMS(0x000002, \"Hello from ESP32!\");\n    \n    // ðŸ”´ 4. EMERGENCY FEATURES\n    Serial.println(\"\\nðŸ”´ EMERGENCY FEATURES\");\n    \n    // Send emergency alarm (uncomment to test)\n    // dmr.sendEmergencyAlarm(0x000001);\n    \n    // ðŸŸ  5. AUDIO & HARDWARE ADJUSTMENT\n    Serial.println(\"\\nðŸŸ  AUDIO & HARDWARE\");\n    \n    if (dmr.setMicGain(8)) {\n        Serial.println(\"âœ… Mic gain set to 8\");\n    }\n    \n    if (dmr.setDutyMode(false)) {\n        Serial.println(\"âœ… Duty mode disabled\");\n    }\n    \n    // ðŸŸ¡ 6. DMR CHANNEL CONFIGURATION\n    Serial.println(\"\\nðŸŸ¡ CHANNEL CONFIGURATION\");\n    \n    // Set frequency (in Hz)\n    // dmr.setFrequency(418125000, 418125000);  // 418.125 MHz\n    \n    if (dmr.setTXPower(3)) {\n        Serial.println(\"âœ… TX Power set to max (3)\");\n    }\n    \n    if (dmr.setSQLLevel(5)) {\n        Serial.println(\"âœ… SQL level set to 5\");\n    }\n    \n    // ðŸŸ¤ 7. IDs & COLOR CODE SETUP\n    Serial.println(\"\\nðŸŸ¤ IDs & COLOR CODE\");\n    \n    if (dmr.setRadioID(0x000001)) {\n        Serial.println(\"âœ… Radio ID set to 0x000001\");\n    }\n    \n    uint32_t radioID = dmr.getRadioID();\n    Serial.print(\"ðŸ“» Current Radio ID: 0x\");\n    Serial.println(radioID, HEX);\n    \n    if (dmr.setColorCode(1)) {\n        Serial.println(\"âœ… Color code set to 1\");\n    }\n    \n    if (dmr.setTimeSlot(1)) {\n        Serial.println(\"âœ… Time slot set to 1\");\n    }\n    \n    // âšª 9. DIAGNOSTICS\n    Serial.println(\"\\nâšª DIAGNOSTICS\");\n    \n    String version = dmr.getFirmwareVersion();\n    Serial.print(\"ðŸ”§ Firmware Version: \");\n    Serial.println(version);\n    \n    bool encrypted = dmr.getEncryptionStatus();\n    Serial.print(\"ðŸ”’ Encryption: \");\n    Serial.println(encrypted ? \"ON\" : \"OFF\");\n    \n    bool initialized = dmr.getInitializationStatus();\n    Serial.print(\"âš¡ Initialized: \");\n    Serial.println(initialized ? \"YES\" : \"NO\");\n    \n    // Get channel parameters\n    DMRChannelParams params;\n    if (dmr.getCurrentChannelParams(params)) {\n        Serial.println(\"\\nðŸ“‹ CURRENT CHANNEL PARAMETERS:\");\n        Serial.print(\"  Channel: \"); Serial.println(params.channel);\n        Serial.print(\"  TX Freq: \"); Serial.print(params.txFreq); Serial.println(\" Hz\");\n        Serial.print(\"  RX Freq: \"); Serial.print(params.rxFreq); Serial.println(\" Hz\");\n        Serial.print(\"  Power: \"); Serial.println(params.power);\n        Serial.print(\"  Bandwidth: \"); Serial.println(params.bandwidth == 0 ? \"12.5K\" : \"25K\");\n        Serial.print(\"  Color Code: \"); Serial.println(params.colorCode);\n        Serial.print(\"  Time Slot: \"); Serial.println(params.timeSlot);\n        Serial.print(\"  Contact ID: 0x\"); Serial.println(params.contactID, HEX);\n        Serial.print(\"  Encryption: \"); Serial.println(params.encryptionOn ? \"ON\" : \"OFF\");\n    }\n    \n    Serial.println(\"\\nâœ… API Reference Demo Complete!\");\n    Serial.println(\"Type 'test' in serial monitor for continuous testing...\");\n}\n\nvoid loop() {\n    // Handle incoming events\n    dmr.update();\n    \n    // Handle serial commands\n    if (Serial.available()) {\n        String command = Serial.readStringUntil('\\n');\n        command.trim();\n        \n        if (command == \"test\") {\n            runContinuousTest();\n        } else if (command == \"status\") {\n            showQuickStatus();\n        } else if (command == \"rssi\") {\n            Serial.print(\"RSSI: \"); \n            Serial.println(dmr.getRSSI());\n        } else if (command == \"help\") {\n            Serial.println(\"Commands: test, status, rssi, help\");\n        }\n    }\n    \n    delay(100);\n}\n\nvoid runContinuousTest() {\n    Serial.println(\"\\nðŸ”„ Starting continuous test...\");\n    \n    for (int i = 0; i < 10; i++) {\n        Serial.print(\"Test cycle \"); Serial.print(i + 1); Serial.println(\"/10\");\n        \n        // Test RSSI\n        uint8_t rssi = dmr.getRSSI();\n        Serial.print(\"  RSSI: \"); Serial.println(rssi);\n        \n        // Test status\n        DMRModuleStatus status = dmr.getModuleStatus();\n        Serial.print(\"  Status: \");\n        switch(status) {\n            case STATUS_RECEIVING: Serial.println(\"RX\"); break;\n            case STATUS_TRANSMITTING: Serial.println(\"TX\"); break;\n            case STATUS_STANDBY: Serial.println(\"Standby\"); break;\n            default: Serial.println(\"Unknown\"); break;\n        }\n        \n        // Handle any incoming data\n        dmr.update();\n        \n        delay(1000);\n    }\n    \n    Serial.println(\"âœ… Continuous test complete!\");\n}\n\nvoid showQuickStatus() {\n    Serial.println(\"\\nðŸ“Š Quick Status:\");\n    Serial.print(\"RSSI: \"); Serial.println(dmr.getRSSI());\n    \n    DMRModuleStatus status = dmr.getModuleStatus();\n    Serial.print(\"Module: \");\n    switch(status) {\n        case STATUS_RECEIVING: Serial.println(\"Receiving\"); break;\n        case STATUS_TRANSMITTING: Serial.println(\"Transmitting\"); break;\n        case STATUS_STANDBY: Serial.println(\"Standby\"); break;\n        default: Serial.println(\"Unknown\"); break;\n    }\n    \n    uint32_t radioID = dmr.getRadioID();\n    Serial.print(\"Radio ID: 0x\"); Serial.println(radioID, HEX);\n}"